{
  "query": "настройки вопросов форм",
  "section_candidates": [
    {
      "section_id": "section_ch1321",
      "title": "Основные настройки вопросов",
      "text": "Основные настройки вопросов\nМаркетолог задает тип вопроса и его настройки при добавлении вопроса на форму. Для этого нужно:\n1. Нажать на форме на кнопку .\n2. В открывшемся окне нажать на кнопку «Добавить вопрос» и выбрать тип вопроса из предложенного списка (см. Рисунок 143).\nРисунок 143 — Выбор типа добавляемого вопроса\n3. Добавленный вопрос появится в списке слева. Справа необходимо задать настройки вопроса. К основным настройкам вопроса относятся:\n• Идентификатор ответа на вопрос – уникальный идентификатор, по которому можно будет получить ответ клиента на этот вопрос. Подробнее об этом в см. разделе\nИспользование ответов на вопросы\n.\n• Вопрос – текст вопроса, который бот отправит клиенту в мессенджер. Для вопросов всех типов, кроме «Короткий текст», рекомендуется формулировать, что ожидается от клиента. Например, не задавать вопрос «Когда вы хотите записаться на наши услуги?», что подразумевает разные ответы вида «В следующем месяце», «В конце недели», а явно просить указать день, например: «Укажите, пожалуйста, какого числа вы хотели бы записаться на наши услуги?».\n• Краткое описание вопроса – сжатое, но емкое описание, позволяющее и клиенту, и маркетологу идентифицировать вопрос. Например, «Имя», «Возраст» или «Телефон». Маркетолог видит краткое описание вопроса в списке вопросов слева (см. Рисунок 144). Клиент увидит краткое описание вопроса при переходе в меню формы и при просмотре результатов заполнения формы, когда будет проверять правильность ответов.\n• Опция «Обязательный вопрос» – если установлена, то клиент не может пропустить этот вопрос и должен дать подходящий ответ. Если опция не установлена, то появляется кнопка «Пропустить этот вопрос»:\nРисунок 144 — Основные настройки вопроса",      
      "score": 0.7584868764877319,
      "node_ids": [
        "chunk_ch1322",
        "chunk_ch1321",
        "chunk_ch1327",
        "chunk_ch1323",
        "chunk_ch1329",
        "chunk_ch1326",
        "chunk_ch1331",
        "chunk_ch1328",
        "chunk_ch1335",
        "chunk_ch1330"
      ]
    },
    {
      "section_id": "section_ch1344",
      "title": "Настройка условий отправки вопросов",
      "text": "Настройка условий отправки вопросов\nФорма позволяет настраивать условия, при которых вопросы отправляются клиенту. Это полезно, если вопрос уместно задавать только в некоторых случаях. Например, если клиент поставил низкую оценку за качество обслуживания, можно спросить у него, что именно ему не понравилось. Но не нужно задавать этот вопрос, если поставлена максимальная оценка (см. Рисунок 146).\nПри этом есть очевидное ограничение – условный вопрос должен располагаться в списке после вопроса, ответ на который проверяется.\nВажно!\nЕсли вопрос, ответ на который проверяется, был пропущен клиентом, то будут срабатывать все условия «Не равно» при любом значении, с которым происходит сравнение.\nРисунок 146 — Добавление вопроса, который будет задан при выполнении определенного условия",
      "score": 0.6831685996055603,
      "node_ids": [
        "chunk_ch1344",
        "chunk_ch1345",
        "chunk_ch1349",
        "chunk_ch1346",
        "chunk_ch1348"
      ]
    },
    {
      "section_id": "section_ch0626",
      "title": "Расширенные настройки",
      "text": "Расширенные настройки\nДля рассылок, начинающихся по событию или тегу, группа расширенных настроек имеет следующий вид (см. Рисунок 86):\nРисунок 86 — Расширенные настройки для рассылок, начинающихся по событию или по тегу\nДля рассылок с фиксированной аудиторией группа расширенных настроек имеет следующий вид (см. Рисунок 87):\nРисунок 87 — Расширенные настройки для рассылок с фиксированной аудиторией\nПримечание:\nПодробнее о типах аудитории см. в разделе\nОпределение аудитории\n.\nОтличаются эти случаи наличием следующих настроек:\n• «Отправлять клиентам, которые уже получали эту рассылку». Если флажок снят, то рассылка для каждого клиента начнется только однажды. Если флажок установлен, то для каждого клиента может быть запущено неограниченное количество одной и той же рассылки.\nДля динамической аудитории данная опция позволяет автоматически предотвратить отправку рассылки одному клиенту более одного раза.\n62 Для рассылок с фиксированной аудиторией эта настройка не имеет смысла, т. к. такая рассылка может запуститься только один раз на каждого клиента.\n• «Исключить клиентов, добавленных в рассылки». При запуске одинаковых рассылок на несколько разных аудиторий возможна следующая проблема: из-за неточного разделения на аудитории некоторые из клиентов могут получить одинаковые рассылки несколько раз.\nПроверка аудитории рассылки вручную может быть довольно сложной и долгой, и при этом все равно не исключает повторных ошибок. Данная настройка позволяет решить проблему повторной отправки одинаковых рассылок одному и тому же клиенту. В поле можно указать несколько рассылок, аудитория каждой из них будет исключаться из аудитории текущей рассылки (см. Рисунок 88).\nРисунок 88 — Исключение клиентов, добавленных в другие рассылки\nЕсли аудитория текущей рассылки будет загружена позже, то исключение клиентов произойдет при загрузке. Если аудитория текущей рассылки уже загружена, то исключение происходит при добавлении каждой новой рассылки в список исключений.\nЕсли рассылка еще не запущена, то клиенты просто удаляются из аудитории текущей рассылки. Если рассылка запущена, то они не удаляются, но помечаются как исключенные, и рассылка для них не начнется. Но если рассылка для них уже началась, то она продолжит выполняться.\nТ. е. эту настройку можно менять у рассылки в любом состоянии, но исключения сработают только для клиентов, для которых рассылка еще не успела начаться (такое вполне вероятно для равномерной рассылки, см. подраздел\nНачинать в заданное время и отправлять равномерно\n).\nНастройка применима только к рассылкам с фиксированной аудиторией и добавлять в исключения можно только рассылки с фиксированной аудиторией.\nВ группу расширенных настроек также входят следующие опции:\n• «Останавливать рассылку для клиентов, получивших один из тегов | у которых удален один из тегов» — при выставлении или снятии с клиента заданного тега его рассылка может быть принудительно остановлена. Это может быть полезно, например, если клиенту запущена рассылка, целью которой является предложение какой-то услуги. Когда клиент приобретает услугу, ему можно выставить соответствующий тег, и рассылка остановится.\n63 При остановке рассылки по тегу отправка запланированных сообщений клиенту не выполняется, кнопки перестают работать. Отменить это действие нельзя.\nПодробнее о тегах см. в разделе\nРабота с тегами\n.\nТег может быть снят двумя способами:\n• При нажатии клиентом кнопки-действия, в настройках которой задано снимать тег;\n• Вызовом API консоли маркетолога, см. подробнее запрос «Изменение тегов клиентов» в разделе\nAPI консоли маркетолога\n.\n• «Отправлять сообщения, даже если клиент отписался от рассылок» — эта опция позволяет отправлять рассылку клиентам даже если они отписались от рассылок. Не следует злоупотреблять этой возможностью в маркетинговых целях. Она предназначена для оповещения клиентов о критически важной информации и работы информационных рассылок.\n• SMS-провайдер — это поле определяет провайдер, который будет использоваться для отправки SMS. Без выбора провайдера добавление SMS-блоков в рассылку будет невозможно (см. также раздел\nНастройка SMS-рассылок\n).\n• Тэги сообщений – это поле определяет специальный тег для отправки рассылок клиентам Facebook*. Без тега клиенту Facebook* не будут приходить рассылки, если за последние 24-часа клиент не общался с ботом или оператором. Для того, чтобы рассылки приходили клиентам всегда, необходимо выставить один из тэгов, который будет соответствовать цели рассылки:\n• CONFIRMED_EVENT_UPDATE - Отправка клиенту напоминаний или обновлений в связи с мероприятиями, на которые он зарегистрировался.\n• POST_PURCHASE_UPDATE - Уведомление клиента об обновлении, связанном с недавней покупкой.\n• ACCOUNT_UPDATE - Уведомление клиента об однократном изменении его заявки или аккаунта.\nС подробным описанием этих тегов можно ознакомиться в\nдокументации Facebook*\n.\nМожно не задавать тег, если рассылка не будет отправляться клиентам Facebook*. Выставленный тег не влияет на клиентов других мессенджеров, кроме Facebook*. Также эти теги не поддерживаются мессенджером Instagram*. Соответственно, отправка рассылок клиентам Instagram* возможна только в рамках 24-часового окна после последнего сообщения от клиента.\nВажно!\nЕсли тег изменен после запуска рассылки, необходимо обновить сценарий рассылки,\nнажав на кнопку , иначе изменения не будут применены.\nИзменения в настройках рассылки, в отличие от изменений в сценарии, применяются сразу (кроме настройки тегов сообщений Facebook*).\n64 При\nотписке клиента от рассылок\nотправка запланированных сообщений клиенту не выполняется, кнопки перестают работать. Клиент не получает новые рассылки. Если клиент\nснова подписывается на рассылки\n, ранее запущенные рассылки продолжают свою работу: кнопки начинают работать, запланированные сообщения начинают приходить (за исключением тех, которые должны были быть отправлены, когда клиент был отписан).",
      "score": 0.5653344488143921,
      "node_ids": [
        "chunk_ch0627",
        "chunk_ch0630",
        "chunk_ch0655",
        "chunk_ch0652",
        "chunk_ch0649",
        "chunk_ch0626",
        "chunk_ch0653",
        "chunk_ch0633",
        "chunk_ch0668",
        "chunk_ch0632",
        "chunk_ch0663",
        "chunk_ch0647",
        "chunk_ch0636",
        "chunk_ch0635",
        "chunk_ch0654",
        "chunk_ch0670",
        "chunk_ch0659",
        "chunk_ch0629",
        "chunk_ch0634",
        "chunk_ch0679",
        "chunk_ch0641",
        "chunk_ch0646",
        "chunk_ch0631",
        "chunk_ch0645",
        "chunk_ch0656"
      ]
    },
    {
      "section_id": "section_ch0681",
      "title": "Определение аудитории",
      "text": "Определение аудитории\nАудитория рассылки может быть фиксированной или динамической. Тип аудитории определяется условиями начала рассылки (см. таблицу 3).\nТаблица 3 — Определение типа аудитории в зависимости от условий начала рассылки\nФиксированная аудитория Динамическая аудитория\n• Начинать сразу после запуска рассылки\n• Начинать в заданное время\n• Начинать в заданное время и отправлять равномерно\n• Начинать при возникновении события для заданной аудитории\n• Начинать в заданное время и отправлять равномерно (аудитория из внешней системы)\n• Начинать при выставлении тега\n• Начинать при возникновении события\n• Начинать при получении ключевого слова\nДинамическая аудитория формируется в ходе рассылки — по мере того, как выставляются теги, генерируются события или клиент отправляет ключевое слово. Как- то ограничить ее нельзя.\nФиксированная аудитория задается до первого запуска рассылки (в состоянии «Не запущена», см. раздел\nВозможные состояния рассылки\n). После запуска рассылки изменить аудиторию полностью или удалить одного из клиентов нельзя. При необходимости запуска на другую аудиторию клиентов рассылку необходимо клонировать, затем задать новую аудиторию, см. подробнее в разделе\nИзменение условий начала и аудитории для запущенной рассылки\n.\nКроме того, для рассылок с фиксированной аудиторией (не по событию) возможен только один запуск рассылки. После того, как рассылка будет запущена и начнется для всех клиентов, она перейдет в пассивный режим. Начать ее заново (перевести в активный режим) нельзя: при попытке выполнить такую операцию бот увидит, что рассылка уже началась для всей аудитории, необработанных клиентов нет, и переведет ее опять в пассивный режим.\n65 Примечание:\nВ зависимости от условий начала рассылки по-разному наступает событие Start. Если аудитория рассылки фиксирована, то событие Start происходит для всех клиентов одновременно в заданное время или сразу после запуска рассылки, или по событию. Если аудитория рассылки не фиксирована, то событие Start происходит при возникновении внешнего события, при выставлении клиенту тега или отправке клиентом ключевого слова боту.\nФиксированная аудитория рассылки задается на вкладке «Целевая аудитория» (см. Рисунок 89). Существует два способа добавления фиксированной аудитории в рассылку: с помощью файлов в формате JSON и CSV.\nРисунок 89 — Вкладка «Целевая аудитория»",  
      "score": 0.4918523979187011,
      "node_ids": [
        "chunk_ch0683",
        "chunk_ch0682",
        "chunk_ch0700",
        "chunk_ch0697",
        "chunk_ch0684",
        "chunk_ch0698",
        "chunk_ch0695",
        "chunk_ch0681"
      ]
    },
    {
      "section_id": "section_ch0704",
      "title": "Формат файлов JSON",
      "text": "Формат файлов JSON\nФормат JSON-файла с целевой аудиторией рассылки:\n{\n\"customers\": [\n{\n\"id\": <идентификатор клиента в Maxbot>,\n\"phone\": <телефон>,\n\"messengers_order\": <порядок следования мессенджеров>,\n\"timezone\": <часовой пояс клиента>,\n\"failback_to_sms\": <признак отправки SMS>,\n\"customer_data\": {\n\"<название макроса>\": \"<значение макроса>\"\n}\n}\n],\n\"macroses\": [\n{\n\"name\": <название макроса>,\n\"type\": <тип макроса>\n}\n]\n}\nТаблица 4 — Описание полей JSON-файла описания аудитории рассылки\nПоле Описание Пример использования\ncustomers[] Массив клиентов, описание полей каждого клиента приведено ниже. —\ncustomers[].id Внутренний идентификатор клиента в Maxbot. Получить его можно, скачав в разделе\nВыгрузка аудитории\nфайл с клиентами для выбранного бота. 12345\ncustomers[].phone Телефон клиента в формате \"7xxxxxxxxxx\" без + и 8. \"79999999999\"\ncustomers[].messengers_order Список мессенджеров по приоритету. Возможные значения: telegram, viber, vkontakte, facebook*, Instagram*. [\"telegram\", \"vkontakte\", \"facebook*\"]\ncustomers[].timezone Часовой пояс клиента (см.\nПриложение А\n). \"Europe/Moscow\" \"Etc/GMT+3\" \"Japan\" \"UTC\"\ncustomers[].failback_to_sms Логический признак: отправлять ли SMS клиенту, если он еще не подтвердил номер телефона ни в одном из мессенджеров. Для применения этого признака должен быть задан телефон (phone). Необязательное поле, по умолчанию false. Если failback_to_sms = true и клиент не подтвердил номер телефона, то ему будут отправлены заданные в рассылке SMS. Если failback_to_sms = false, и клиент не подтвердил номер телефона, то клиент не будет добавлен в аудиторию рассылки. Если клиент уже подтвердил указанный номер телефона, то по номеру будет определен id, которому и будет отправлена рассылка в соответствии с заданным приоритетом мессенджеров. Для принудительной отправки SMS клиенту можно задать поле false или true\n67 Поле Описание Пример использования messengers_order пустым и выставить failback_to_sms = True. Тогда клиент получит SMS даже если уже подтвердил номер телефона в мессенджерах.\ncustomers[].customer_data Значения макросов клиента (см. подробнее о макросах в разделе\nИспользование макросов\n), задаются в виде пар значений «имя макроса» : «значение макроса». \"name\": \"Mark\"\nmacroses[] Массив описаний макросов. —\nmacroses[].name Название макроса. \"name\"\nmacroses[].type Тип макроса (см.\nПриложение Б\n). \"string\"\nДля каждого клиента должен быть задан:\n• id\nлибо\n• phone и messengers_order\nлибо\n• только phone (если нужно принудительно отправить SMS).\nЕсли заданы все три поля, то приоритет имеет id.\nПример JSON-файла:\n{\n\"customers\": [\n{\n\"id\": 125241,\n\"timezone\": \"Europe/Moscow\",\n\"customer_data\": {\n\"name\": \"John\"\n}\n},\n{\n\"phone\": \"79999999999\",\n\"messengers_order\": [\"telegram\", \"vkontakte\", \"facebook*\"],\n\"timezone\": \"Europe/Moscow\",\n\"failback_to_sms\": true,\n\"customer_data\": {\n\"name\": \"Mark\"\n}\n}\n],\n\"macroses\": [\n{\n\"name\": \"name\",\n\"type\": \"string\"\n}\n]\n}\nВ указанном примере заданы два получателя рассылки. Первый задается по идентификатору в Maxbot (id), второй — по номеру телефона и приоритету мессенджеров (phone + messengers_order).",
      "score": 0.332063136100769,
      "node_ids": [
        "chunk_ch0728",
        "chunk_ch0764",
        "chunk_ch0777",
        "chunk_ch0706",
        "chunk_ch0708",
        "chunk_ch0758",
        "chunk_ch0765",
        "chunk_ch0720",
        "chunk_ch0756",
        "chunk_ch0763",
        "chunk_ch0716"
      ]
    },
    {
      "section_id": "section_ch0784",
      "title": "Формат файлов CSV",
      "text": "Формат файлов CSV\nCSV-файл имеет следующий заголовок:\ncustomer_id;phone;messengers_order;failback_to_sms;timezone;macros_name1:macros_type1;…;\nmacros_nameN:macros_typeN\nCSV-файл с аудиторией рассылки обязательно должен:\n• иметь кодировку UTF8;\n• содержать заголовок, подобный описанному выше;\n• использовать в качестве разделителя символ ';'.\nТаблица 5 — Описание полей CSV-файла описания аудитории рассылки\nПоле Описание Пример использования\ncustomer_id Внутренний идентификатор клиента в Maxbot (аналог id в JSON). 12345\nphone Телефон клиента в формате 7xxxxxxxxxx без + и 8. 79999999999\nmessengers_order Приоритет мессенджеров, аналогично формату JSON, но задается без кавычек и скобок telegram, vkontakte, facebook*, viber\nfailback_to_sms Логический признак: отправлять ли SMS клиенту, если он еще не подтвердил номер телефона ни в одном из мессенджеров. Аналогично формату JSON. false или true\n69 Поле Описание Пример использования\ntimezone Часовой пояс клиента (см.\nПриложение А\n). Europe/Moscow\nmacros_name:macros_type Произвольное количество столбцов, содержащих значения макросов для клиентов. В названии столбца задается и название макроса, и его тип. name:string\nprice:decimal\nПример CSV-файла:\ncustomer_id;phone;messengers_order;failback_to_sms;timezone;name:string\n;79999999999; viber, telegram, vkontakte, facebook*;true;Europe/Moscow;Sergey\n96555;;;true;Europe/Moscow;Max.Expert\nВ приведенном примере задано два получателя рассылки. Первый задан по номеру телефона и приоритету мессенджеров (phone + messengers_order), второй — по идентификатору в Maxbot (customer_id).",
      "score": 0.332063136100769,
      "node_ids": [
        "chunk_ch0793"
      ]
    }
  ]
}