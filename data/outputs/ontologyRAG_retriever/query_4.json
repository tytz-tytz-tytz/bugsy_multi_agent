{
  "query": "медиа группы",
  "focus_summary": "Нужно протестировать функциональность, связанную с медиа-группами, однако в предоставленных секциях документации явного описания медиа-групп не обнаружено. Основное внимание в секциях уделено аудиториям рассылок, событиям, их генерации и отладке. Следует сосредоточиться на тестировании механизмов определения аудитории (фиксированной и динамической), условий начала рассылок, работы с событиями как триггерами, а также форматов данных для аудитории.",
  "core_passages": [
    {
      "section_id": "section_ch0681",
      "title": "Определение аудитории",
      "role": "core",
      "importance": "high",
      "summary": "Описание двух типов аудитории рассылок: фиксированной и динамической. Фиксированная аудитория задается до запуска и не может быть изменена после старта; для нее возможен только один запуск. Динамическая аудитория формируется в ходе рассылки по событиям, тегам или ключевым словам и не может быть ограничена. Условия начала рассылки определяют тип аудитории. Также описаны способы добавления фиксированной аудитории (JSON, CSV)."
    },
    {
      "section_id": "section_ch1056",
      "title": "Общая информация о событиях",
      "role": "core",
      "importance": "high",
      "summary": "События могут быть триггером для начала рассылки. Делятся на системные (добавление клиента, подтверждение номера) и пользовательские. Системные события нельзя изменить или удалить, они срабатывают для всех клиентов. Пользовательские события создаются через интерфейс или API, могут иметь аргументы для передачи дополнительной информации. При тестировании рассылок на системных событиях нужно быть аккуратным из-за широкой аудитории."
    },
    {
      "section_id": "section_ch0704",
      "title": "Формат файлов JSON",
      "role": "core",
      "importance": "medium",
      "summary": "Описание формата JSON-файла для задания целевой аудитории рассылки. Включает массив customers с полями: id, phone, messengers_order, timezone, failback_to_sms, customer_data (макросы). Также включает массив macroses с описанием макросов. Для клиента должен быть задан либо id, либо phone и messengers_order, либо только phone (для принудительной отправки SMS). Приоритет имеет id, если заданы все поля."
    }
  ],
  "supporting_passages": [
    {
      "section_id": "section_ch1085",
      "title": "Тестирование рассылок, запускаемых по событию",
      "role": "supporting",
      "importance": "medium",
      "summary": "Описание возможности генерации событий для тестирования через интерфейс консоли маркетолога. Позволяет сгенерировать событие и перейти к отладке рассылки по полученным идентификаторам запуска. Также есть кнопки для копирования запроса в формате curl. При генерации через API выполняется проверка типов аргументов; при ошибке возвращается статус 409."
    },
    {
      "section_id": "section_ch1080",
      "title": "Редактирование событий",
      "role": "supporting",
      "importance": "medium",
      "summary": "Правила редактирования и удаления пользовательских событий. Если событие используется в рассылке, удаление запрещено, редактирование названия и идентификатора разрешено. Редактирование аргументов ограничено макросами в рассылке. Если рассылка запущена, редактирование всех полей события запрещено."
    },
    {
      "section_id": "section_ch1103",
      "title": "События, отложенные до подтверждения клиентом номера телефона",
      "role": "supporting",
      "importance": "low",
      "summary": "Описание отложенных событий, которые можно сгенерировать по номеру телефона с указанием времени ожидания (ttl). Если клиент подтвердит номер в течение ttl, рассылка начнется. Если клиент уже существует, рассылка начнется сразу, приоритет мессенджеров учитывается среди подтвержденных. Также можно генерировать через API."
    },
    {
      "section_id": "section_ch1140",
      "title": "Статусы событий",
      "role": "supporting",
      "importance": "low",
      "summary": "При генерации событий возвращаются идентификаторы запусков (flow) или отложенных событий. Для событий по id клиента или номеру телефона возвращается список launch_customer_ids. Статус запуска можно получить через API-запрос."
    }
  ],
  "discarded_sections": [
    "section_ch1055",
    "section_ch1620",
    "section_ch1737",
    "section_ch1130",
    "section_ch1624",
    "section_ch1762",
    "section_ch1116"
  ],
  "domain_entities": [
    "Аудитория",
    "Рассылка",
    "Событие",
    "Клиент",
    "Макрос",
    "Мессенджер",
    "Телефон",
    "SMS",
    "Фиксированная аудитория",
    "Динамическая аудитория",
    "Системное событие",
    "Пользовательское событие",
    "Аргумент события",
    "Запуск рассылки",
    "Отложенное событие"
  ],
  "hints_for_tests": [
    "Проверить различие в поведении фиксированной и динамической аудиторий при разных условиях начала рассылки.",
    "Протестировать создание, редактирование и удаление пользовательских событий с учетом ограничений (использование в рассылках, запущенные рассылки).",
    "Проверить корректность обработки JSON-файлов аудитории: приоритет полей (id, phone, messengers_order), валидация данных, работа макросов.",
    "Протестировать генерацию событий через интерфейс и API: проверка типов аргументов, обработка ошибок, получение статусов.",
    "Проверить работу отложенных событий: ожидание подтверждения номера телефона (ttl), приоритет мессенджеров, обработка уже существующих клиентов.",
    "Убедиться, что системные события срабатывают для всех клиентов и не могут быть изменены, учесть риски при тестировании."
  ]
}