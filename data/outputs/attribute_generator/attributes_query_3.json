[
  {
    "id": "EVT-001",
    "name": "Автоматическое создание события Start",
    "type": "functional",
    "priority": "P1",
    "description": "При создании новой рассылки в конструкторе сценариев автоматически создается событие Start.",
    "positive_example": "Пользователь создает новую рассылку, и на холсте сценария сразу появляется блок события Start.",
    "negative_example": "Событие Start отсутствует после создания рассылки, и пользователь не может начать построение сценария.",
    "source_section_ids": [
      "section_ch0113"
    ],
    "source_quotes": [
      "При создании рассылки автоматически создается событие Start."
    ]
  },
  {
    "id": "EVT-002",
    "name": "Добавление блока действий через кнопку",
    "type": "ui",
    "priority": "P1",
    "description": "Блоки действий добавляются в сценарий рассылки через кнопку «Добавить блок».",
    "positive_example": "Пользователь нажимает кнопку «Добавить блок», выбирает тип действия, и блок появляется на холсте.",
    "negative_example": "Кнопка «Добавить блок» отсутствует или неактивна, блоки действий нельзя добавить.",
    "source_section_ids": [
      "section_ch0113",
      "section_ch0125"
    ],
    "source_quotes": [
      "Блоки действий добавляются через кнопку «Добавить блок»."
    ]
  },
  {
    "id": "EVT-003",
    "name": "Типы действий в блоке",
    "type": "functional",
    "priority": "P1",
    "description": "Блок действий может содержать действия следующих типов: отправка сообщения (текст, медиа-контент, медиа-группы, кнопки-действия, кнопки-ссылки), отправка конфиденциальных данных, перевод в канал, отмена отправки запланированных сообщений, отмена действия кнопок рассылки, вызов внешней системы, генерация события, генерация интента.",
    "positive_example": "Пользователь добавляет блок и может выбрать любой из перечисленных типов действий для настройки.",
    "negative_example": "В списке доступных действий отсутствует один из указанных типов, например, «вызов внешней системы».",
    "source_section_ids": [
      "section_ch0125"
    ],
    "source_quotes": [
      "Блок может содержать одно или несколько действий следующих типов: отправка сообщения (текст, медиа-контент, медиа-группы, кнопки-действия, кнопки-ссылки), отправка конфиденциальных данных, перевод в канал, отмена отправки запланированных сообщений, отмена действия кнопок рассылки, вызов внешней системы, генерация события, генерация интента."
    ]
  },
  {
    "id": "EVT-004",
    "name": "Ограничение на количество элементов в медиа-группе",
    "type": "business_rule",
    "priority": "P2",
    "description": "Медиа-группа в действии отправки сообщения может содержать не более 50 элементов.",
    "positive_example": "Пользователь добавляет в медиа-группу 50 изображений, система сохраняет настройки.",
    "negative_example": "Пользователь пытается добавить 51-й элемент в медиа-группу, система выдает ошибку или не позволяет это сделать.",
    "source_section_ids": [
      "section_ch0125"
    ],
    "source_quotes": [
      "макс. 50 элементов в медиа-группе"
    ]
  },
  {
    "id": "EVT-005",
    "name": "Ограничение длины заголовка кнопки",
    "type": "business_rule",
    "priority": "P2",
    "description": "Заголовок кнопки-действия или кнопки-ссылки не может превышать 20 символов.",
    "positive_example": "Пользователь вводит заголовок кнопки «Подтвердить заказ» (19 символов), система принимает его.",
    "negative_example": "Пользователь вводит заголовок «Подтвердить заказ прямо сейчас» (30 символов), система выдает ошибку или обрезает текст.",
    "source_section_ids": [
      "section_ch0125"
    ],
    "source_quotes": [
      "длина заголовка кнопки до 20 символов"
    ]
  },
  {
    "id": "EVT-006",
    "name": "Связь между событием и блоком действий",
    "type": "functional",
    "priority": "P1",
    "description": "Связь между событием (например, Start) и блоком действий означает безусловное выполнение действий блока сразу или через заданный промежуток времени после события.",
    "positive_example": "Пользователь создает связь от события Start к блоку отправки сообщения и устанавливает задержку 5 минут. Сообщение отправляется через 5 минут после старта рассылки.",
    "negative_example": "Связь создана, но действия блока не выполняются после наступления события.",
    "source_section_ids": [
      "section_ch0420"
    ],
    "source_quotes": [
      "Связь между событием и блоком означает безусловное выполнение действий блока сразу или через заданный промежуток времени после события."
    ]
  },
  {
    "id": "EVT-007",
    "name": "Задержка у связей",
    "type": "functional",
    "priority": "P2",
    "description": "У связей (кроме исходящих из кнопок) можно задать задержку перед выполнением блока действий.",
    "positive_example": "Пользователь устанавливает задержку 10 минут для связи от события Start к блоку действий.",
    "negative_example": "Пользователь пытается установить задержку для связи, исходящей из кнопки-действия, но настройка задержки недоступна.",
    "source_section_ids": [
      "section_ch0420"
    ],
    "source_quotes": [
      "У связей (кроме исходящих из кнопок) можно задать задержку."
    ]
  },
  {
    "id": "EVT-008",
    "name": "Несколько связей в один блок",
    "type": "functional",
    "priority": "P2",
    "description": "В один блок действий могут приходить несколько связей от разных событий.",
    "positive_example": "Блок отправки сообщения связан как с событием Start, так и с событием нажатия кнопки-действия.",
    "negative_example": "Система не позволяет создать вторую связь к уже связанному блоку.",
    "source_section_ids": [
      "section_ch0420"
    ],
    "source_quotes": [
      "В один блок могут приходить несколько связей."
    ]
  },
  {
    "id": "EVT-009",
    "name": "Добавление блока «Форма»",
    "type": "functional",
    "priority": "P2",
    "description": "Для проведения опросов клиентов можно добавить в рассылку блок «Форма» через кнопку «Добавить блок».",
    "positive_example": "Пользователь выбирает «Добавить блок», находит и добавляет блок «Форма» для настройки опроса.",
    "negative_example": "Блок «Форма» отсутствует в меню добавления блоков.",
    "source_section_ids": [
      "section_ch0414"
    ],
    "source_quotes": [
      "Для проведения опросов клиентов можно добавить в рассылку блок «Форма». Добавляется через кнопку «Добавить блок»."
    ]
  },
  {
    "id": "EVT-010",
    "name": "Добавление блока-комментария",
    "type": "functional",
    "priority": "P3",
    "description": "В рассылку можно вставить блок-комментарий с произвольным текстом через кнопку «Добавить блок», выбор «Комментарий». Блок информационный, не имеет настроек (кроме текста) и не может иметь связей с другими блоками.",
    "positive_example": "Пользователь добавляет блок-комментарий, вводит текст «Примечание для команды», блок отображается на холсте без возможности создания связей.",
    "negative_example": "Блок-комментарий позволяет создать исходящую связь к другому блоку, что противоречит документации.",
    "source_section_ids": [
      "section_ch0397"
    ],
    "source_quotes": [
      "В рассылки можно вставить блок-комментарий с произвольным текстом. Добавляется через кнопку «Добавить блок», выбор «Комментарий». Блок информационный, не имеет настроек (кроме текста) и не может иметь связей с другими блоками."
    ]
  },
  {
    "id": "EVT-011",
    "name": "Добавление блока «SMS-сообщения»",
    "type": "functional",
    "priority": "P2",
    "description": "В рассылку можно добавить блок «SMS-сообщения» для отправки SMS через меню добавления блоков. По умолчанию недоступен, требуется предварительный выбор SMS-провайдера.",
    "positive_example": "После настройки SMS-провайдера в системе пользователь видит и может добавить блок «SMS-сообщения».",
    "negative_example": "Блок «SMS-сообщения» отображается в меню, но SMS-провайдер не выбран, и блок нельзя добавить или настроить.",
    "source_section_ids": [
      "section_ch0401"
    ],
    "source_quotes": [
      "В рассылку можно добавить блок «SMS-сообщения» для отправки SMS и направления клиентов на посадочную страницу. Добавляется через меню добавления блоков. По умолчанию недоступен, требуется предварительный выбор SMS-провайдера."
    ]
  },
  {
    "id": "EVT-012",
    "name": "Контроль одновременного редактирования",
    "type": "negative",
    "priority": "P2",
    "description": "Система отслеживает редактирование сценария и настроек рассылки в разных окнах/вкладках браузера. При одновременном редактировании появляется сообщение об ошибке, требуется обновление страницы.",
    "positive_example": "Пользователь A редактирует сценарий в одной вкладке. Пользователь B пытается сохранить изменения в другой вкладке и получает сообщение об ошибке с предложением обновить страницу.",
    "negative_example": "Изменения, сделанные в одной вкладке, перезаписывают правки из другой вкладки без предупреждения.",
    "source_section_ids": [
      "section_ch0445"
    ],
    "source_quotes": [
      "Механизм отслеживает редактирование сценария и настроек рассылки в разных окнах/вкладках браузера, чтобы правки в одной вкладке не затерли изменения в другой. При одновременном редактировании появляется сообщение об ошибке, требуется обновление страницы."
    ]
  },
  {
    "id": "EVT-013",
    "name": "Ограничение на количество связей из Start",
    "type": "business_rule",
    "priority": "P2",
    "description": "Из события Start может исходить произвольное количество связей к разным блокам действий.",
    "positive_example": "Пользователь создает 5 связей от события Start к 5 разным блокам действий.",
    "negative_example": "Система ограничивает количество связей из Start, например, только одной связью.",
    "source_section_ids": [
      "section_ch0420"
    ],
    "source_quotes": [
      "Из Start - произвольное количество связей, из остальных событий - по одной."
    ]
  },
  {
    "id": "EVT-014",
    "name": "Ограничение на количество связей из других событий",
    "type": "business_rule",
    "priority": "P2",
    "description": "Из событий, кроме Start (например, нажатие кнопки-действия, отправка сообщения), может исходить только одна связь.",
    "positive_example": "Событие «нажатие кнопки» связано только с одним блоком отправки сообщения.",
    "negative_example": "Пользователь пытается создать вторую связь из события нажатия кнопки, система не позволяет этого сделать.",
    "source_section_ids": [
      "section_ch0420"
    ],
    "source_quotes": [
      "из остальных событий - по одной."
    ]
  },
  {
    "id": "EVT-015",
    "name": "Простейший сценарий",
    "type": "functional",
    "priority": "P1",
    "description": "Простейший сценарий рассылки состоит из события Start, связанного с одним блоком действий.",
    "positive_example": "Пользователь создает рассылку, добавляет один блок отправки сообщения и связывает его с событием Start.",
    "negative_example": "Система требует добавить более одного блока действий для сохранения сценария.",
    "source_section_ids": [
      "section_ch0113"
    ],
    "source_quotes": [
      "Простейший сценарий - событие Start, связанное с одним блоком действий."
    ]
  }
]