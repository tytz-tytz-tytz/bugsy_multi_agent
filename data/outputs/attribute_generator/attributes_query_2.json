[
  {
    "id": "EVT-001",
    "name": "Вызов блока через кнопку-действие",
    "type": "functional",
    "priority": "P1",
    "description": "Кнопка-действие в блоке может вызывать другой блок действий, который должен выполниться сразу после нажатия на кнопку.",
    "positive_example": "В блоке A есть кнопка 'Перейти к блоку B'. При нажатии клиентом на эту кнопку, система немедленно начинает выполнение блока B.",
    "negative_example": "При нажатии на кнопку 'Перейти к блоку B' ничего не происходит или блок B выполняется с задержкой, не сразу.",
    "source_section_ids": [
      "section_ch0125"
    ],
    "source_quotes": [
      "кнопки-действия могут вызывать другой блок действий, который выполняется сразу после нажатия"
    ]
  },
  {
    "id": "EVT-002",
    "name": "Однократное нажатие кнопки в сообщении",
    "type": "business_rule",
    "priority": "P2",
    "description": "Если в блоке более двух кнопок-действий и включена опция 'Разрешить только одно нажатие', клиент может нажать только одну кнопку в этом сообщении.",
    "positive_example": "В сообщении три кнопки, опция 'Разрешить только одно нажатие' включена. Клиент нажимает одну кнопку, после чего остальные кнопки в этом сообщении становятся неактивными.",
    "negative_example": "При включенной опции 'Разрешить только одно нажатие' клиент может последовательно нажать несколько кнопок в одном сообщении.",
    "source_section_ids": [
      "section_ch0125"
    ],
    "source_quotes": [
      "При добавлении более двух кнопок-действий появляется опция 'Разрешить только одно нажатие', ограничивающая клиента одним нажатием на кнопку в сообщении"
    ]
  },
  {
    "id": "EVT-003",
    "name": "Повторное нажатие при возврате к блоку",
    "type": "functional",
    "priority": "P2",
    "description": "Если сценарий предусматривает возврат клиента к уже полученному блоку, на кнопки-действия в этом блоке можно нажать снова.",
    "positive_example": "Клиент прошел блок A, затем по сценарию вернулся к нему. Кнопки в блоке A снова активны и доступны для нажатия.",
    "negative_example": "После возврата клиента к ранее полученному блоку A, кнопки в нем остаются неактивными, и нажать их нельзя.",
    "source_section_ids": [
      "section_ch0125"
    ],
    "source_quotes": [
      "если сценарий предусматривает возврат к уже полученному блоку, нажатие возможно снова"
    ]
  },
  {
    "id": "EVT-004",
    "name": "Глобальное действие отмены",
    "type": "business_rule",
    "priority": "P1",
    "description": "Действия отмены отправки запланированных сообщений и отмены работы кнопок применяются ко всей рассылке для клиента, независимо от текущей ветви сценария.",
    "positive_example": "В блоке A клиент нажимает кнопку 'Отменить отправку'. Все запланированные сообщения для этого клиента в рамках рассылки отменяются, и кнопки во всех блоках становятся неактивными.",
    "negative_example": "Действие отмены из блока A применяется только к сообщениям и кнопкам в текущей ветви сценария, но не затрагивает другие ветви рассылки.",
    "source_section_ids": [
      "section_ch0125"
    ],
    "source_quotes": [
      "Действия отмены отправки запланированных сообщений и отмены работы кнопок применяются ко всей рассылке для клиента, независимо от ветви сценария"
    ]
  },
  {
    "id": "EVT-005",
    "name": "Влияние состояния 'Отключена' на связи блоков",
    "type": "business_rule",
    "priority": "P1",
    "description": "Если рассылка переходит в состояние 'Отключена', все связи и переходы между блоками останавливаются как для новых, так и для ранее начавших рассылку клиентов.",
    "positive_example": "Рассылка отключена. Клиент, который уже начал сценарий, не получает новые сообщения и не может переходить по кнопкам-действиям между блоками.",
    "negative_example": "После отключения рассылки клиенты продолжают получать сообщения и переходить по связям между блоками.",
    "source_section_ids": [
      "section_ch0835"
    ],
    "source_quotes": [
      "В состоянии 'Отключена' рассылка не выполняется для новых и ранее начатых клиентов, что останавливает все связи между блоками"
    ]
  },
  {
    "id": "EVT-006",
    "name": "Приоритет вызова внешней системы",
    "type": "functional",
    "priority": "P2",
    "description": "Если в блоке есть действие 'вызов внешней системы', оно должно выполняться первым в рамках этого блока. При ошибке вызова выполнение остальных действий в блоке и переход к последующим блокам блокируется.",
    "positive_example": "В блоке есть действия: вызов внешней системы, затем отправка сообщения. Сначала выполняется вызов внешней системы. Если вызов завершился ошибкой, сообщение не отправляется и переход по кнопкам-действиям не происходит.",
    "negative_example": "В блоке сначала отправляется сообщение, а затем выполняется вызов внешней системы, или при ошибке вызова система все равно переходит к следующему блоку.",
    "source_section_ids": [
      "section_ch0125"
    ],
    "source_quotes": [
      "вызов внешней системы в блоке выполняется первым и при ошибке блокирует выполнение остальных действий и последующих блоков"
    ]
  },
  {
    "id": "EVT-007",
    "name": "Независимость упорядочивания сообщений от связей блоков",
    "type": "functional",
    "priority": "P3",
    "description": "Функции упорядочивания сообщений внутри блока ('Переместить наверх', 'Переместить вниз') влияют только на последовательность отправки сообщений в этом блоке и не затрагивают связи и переходы между разными блоками.",
    "positive_example": "В блоке A два сообщения поменяли местами. Это изменило порядок их отправки клиенту, но не повлияло на то, какая кнопка-действие вызывает блок B.",
    "negative_example": "Изменение порядка сообщений в блоке A привело к изменению целевого блока для кнопки-действия или нарушило переход к другому блоку.",
    "source_section_ids": [
      "section_ch0437"
    ],
    "source_quotes": [
      "Это влияет на последовательность отправки сообщений внутри одного блока, но не на связи между разными блоками"
    ]
  },
  {
    "id": "EVT-008",
    "name": "Ограничение редактирования в активном/пассивном режиме",
    "type": "business_rule",
    "priority": "P2",
    "description": "Когда рассылка находится в активном или пассивном режиме, условия начала и аудиторию изменить нельзя, но сценарий (включая связи между блоками) можно редактировать.",
    "positive_example": "Рассылка в активном режиме. Администратор не может изменить аудиторию, но может добавить новый блок и связать его кнопкой-действием с существующим блоком.",
    "negative_example": "В активном режиме администратор пытается изменить условие начала рассылки, и система разрешает это изменение.",
    "source_section_ids": [
      "section_ch0835"
    ],
    "source_quotes": [
      "В активном и пассивном режимах изменение условий начала или аудитории невозможно, но сценарий можно менять"
    ]
  }
]