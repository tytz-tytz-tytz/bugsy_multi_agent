[
  {
    "id": "SCN-001",
    "title": "Создание и базовая настройка информационной рассылки с формой",
    "steps": [
      "Войти в консоль маркетолога.",
      "Перейти в раздел 'Рассылки'.",
      "Нажать кнопку 'Создать рассылку'.",
      "Выбрать тип рассылки 'Информационная'.",
      "Перейти на вкладку 'Конструктор'.",
      "Добавить в рассылку форму для опроса из доступных компонентов.",
      "Перейти на вкладку 'Условия начала'.",
      "Выбрать условие начала 'Сразу после запуска'.",
      "Перейти на вкладку 'Целевая аудитория'.",
      "Выбрать целевую аудиторию 'Все клиенты'.",
      "Вернуться на вкладку 'Конструктор' и проверить наличие добавленной формы.",
      "Нажать кнопку 'Сохранить'.",
      "Нажать кнопку 'Запустить'."
    ],
    "expected_result": "Рассылка успешно создана, сохранена и запущена. В журнале рассылка отображается с состоянием 'Запущена'. Форма для опроса присутствует в конструкторе. Условие начала 'Сразу после запуска' применено.",
    "attributes_covered": [
      "EVT-001"
    ]
  },
  {
    "id": "SCN-002",
    "title": "Попытка создания рассылки с некорректными данными и изменение условий после запуска",
    "steps": [
      "Войти в консоль маркетолога.",
      "Перейти в раздел 'Рассылки'.",
      "Нажать кнопку 'Создать рассылку'.",
      "Выбрать тип рассылки 'Целевая'.",
      "Перейти на вкладку 'Конструктор' и оставить его пустым (не добавлять контент).",
      "Перейти на вкладку 'Условия начала'.",
      "Выбрать условие начала 'В заданное время'.",
      "Установить дату и время в прошлом.",
      "Попытаться нажать кнопку 'Сохранить'.",
      "Исправить время на будущее и сохранить рассылку.",
      "Запустить рассылку.",
      "После запуска попытаться изменить условие начала на 'По ключевому слову' на вкладке 'Условия начала'."
    ],
    "expected_result": "При попытке сохранить рассылку с пустым конструктором и/или прошедшим временем начала система показывает понятные сообщения об ошибке. После исправления данных рассылка сохраняется. После запуска рассылки кнопки/поля для изменения условий начала становятся неактивными или система показывает сообщение о невозможности изменения.",
    "attributes_covered": [
      "EVT-002"
    ]
  },
  {
    "id": "SCN-003",
    "title": "Настройка целевой рассылки с расширенными условиями и формой",
    "steps": [
      "Войти в консоль маркетолога.",
      "Создать новую рассылку типа 'Целевая'.",
      "На вкладке 'Конструктор' добавить форму для опроса.",
      "Перейти в настройки формы, задать идентификатор, время ответа на вопросы и тексты сообщений.",
      "Перейти на вкладку 'Условия начала'.",
      "Выбрать условие 'По ключевому слову'.",
      "В поле ключевого слова ввести 'ПРОМО' (в верхнем регистре).",
      "Перейти на вкладку 'Расширенные настройки'.",
      "Включить опцию 'Предотвратить повторную отправку клиентам'.",
      "Включить опцию 'Исключить клиентов, участвующих в других рассылках'.",
      "Сохранить рассылку.",
      "Запустить рассылку.",
      "Отправить в тестовый чат сообщение с ключевым словом 'промо' (в нижнем регистре)."
    ],
    "expected_result": "Рассылка успешно создана и запущена. Настройки формы применены. Рассылка не стартует при получении ключевого слова в нижнем регистре (проверка регистрозависимости). Расширенные настройки (предотвращение повтора и исключение) активны. Рассылка находится в состоянии 'Не запущена' до получения корректного триггера.",
    "attributes_covered": [
      "EVT-001",
      "EVT-002"
    ]
  },
  {
    "id": "SCN-004",
    "title": "Работа с формой опроса и сценариями выхода",
    "steps": [
      "Войти в консоль маркетолога.",
      "Открыть существующую запущенную рассылку с добавленной формой.",
      "В тестовом клиентском интерфейсе начать взаимодействие с рассылкой, чтобы получить форму.",
      "Ответить на все вопросы формы в отведенное время.",
      "Завершить форму успешно.",
      "Повторить шаги 1-3, но выйти из формы по желанию клиента (например, отправив команду 'стоп').",
      "Повторить шаги 1-3, но не отвечать на вопросы до истечения таймаута."
    ],
    "expected_result": "При успешном завершении формы рассылка продолжается согласно настройкам формы. При выходе по желанию клиента рассылка прекращается для этого клиента, отправляется соответствующее сообщение. При таймауте рассылка прекращается для этого клиента, отправляется сообщение о таймауте. Все исходы обрабатываются системой корректно, без падений.",
    "attributes_covered": [
      "EVT-001"
    ]
  }
]