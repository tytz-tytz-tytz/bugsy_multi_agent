[
  {
    "id": "SCN-001",
    "title": "Условная отправка вопроса и порядок следования",
    "steps": [
      "Создать форму с двумя вопросами: A (например, числовой рейтинг) и B (текстовый вопрос).",
      "Для вопроса B настроить условие отправки: 'ответ на вопрос A равен 5'.",
      "Убедиться, что в списке вопросов формы вопрос B расположен после вопроса A.",
      "Опубликовать форму и начать её заполнение от лица клиента.",
      "На вопрос A ответить значением 5.",
      "Проверить, отправляется ли клиенту вопрос B.",
      "Завершить форму."
    ],
    "expected_result": "Вопрос B отправляется клиенту, так как условие выполнено (ответ на A равен 5) и B расположен после A.",
    "attributes_covered": [
      "EVT-001",
      "EVT-002"
    ]
  },
  {
    "id": "SCN-002",
    "title": "Обработка пропущенного вопроса в условии 'Не равно'",
    "steps": [
      "Создать форму с двумя вопросами: A (например, выбор из списка) и B (текстовый вопрос).",
      "Для вопроса B настроить условие отправки: 'ответ на вопрос A не равен \"Вариант 1\"'.",
      "Опубликовать форму и начать её заполнение от лица клиента.",
      "Пропустить вопрос A (не отвечать на него).",
      "Проверить, отправляется ли клиенту вопрос B."
    ],
    "expected_result": "Вопрос B отправляется клиенту, так как вопрос A пропущен, и условие 'Не равно' должно сработать.",
    "attributes_covered": [
      "EVT-003"
    ]
  },
  {
    "id": "SCN-003",
    "title": "Использование ответов в Jinja-шаблонах и выражениях",
    "steps": [
      "Создать форму с вопросом 'rating' (числовой).",
      "В настройках рассылки или шаблона сообщения использовать Jinja-шаблон с подстановкой: {{ form.rating }}.",
      "В настройках условной логики (например, для перехода) использовать Jinja-выражение: slots.rating > 3.",
      "Опубликовать форму и начать её заполнение от лица клиента.",
      "Ответить на вопрос 'rating' значением 5.",
      "Проверить, что в отправленном сообщении корректно подставлено значение 5 из {{ form.rating }}.",
      "Проверить, что условная логика на основе slots.rating > 3 корректно срабатывает (например, выполняется переход)."
    ],
    "expected_result": "В Jinja-шаблоне корректно подставляется значение ответа, и Jinja-выражение корректно вычисляется на основе ответа.",
    "attributes_covered": [
      "EVT-004",
      "EVT-005"
    ]
  },
  {
    "id": "SCN-004",
    "title": "Обработка ответов при выходе из формы и передача во внешние системы",
    "steps": [
      "Создать форму с двумя вопросами: A (текстовый) и B (числовой).",
      "Настроить webhook для передачи ответов во внешнюю систему при любом выходе из формы.",
      "Опубликовать форму и начать её заполнение от лица клиента.",
      "Ответить на вопрос A, но не отвечать на вопрос B.",
      "Выйти из формы по таймауту (или имитировать выход по желанию клиента).",
      "Проверить данные, отправленные во внешнюю систему через webhook."
    ],
    "expected_result": "В переданных данных присутствует ответ на вопрос A, а для вопроса B значение None. Данные корректно отправлены во внешнюю систему.",
    "attributes_covered": [
      "EVT-006",
      "EVT-010"
    ]
  },
  {
    "id": "SCN-005",
    "title": "Работа с типом вопроса 'Файл': формат, преобразование, проверка пустоты",
    "steps": [
      "Создать форму с вопросом типа 'Файл' (идентификатор 'file_uploads').",
      "В Jinja-шаблоне использовать конструкцию для преобразования в строку: {{ form.file_uploads|list|join(', ') }}.",
      "В условной логике использовать проверку на пустоту: если slots.file_uploads пусто.",
      "Опубликовать форму и начать её заполнение от лица клиента.",
      "Загрузить два файла в вопрос 'Файл'.",
      "Проверить формат ответа (должен быть список URL).",
      "Проверить, что в Jinja-шаблоне список URL корректно преобразуется в строку, разделённую запятыми.",
      "Проверить, что условие на пустоту возвращает false (так как файлы загружены).",
      "Завершить форму и проверить передачу ответа во внешнюю систему."
    ],
    "expected_result": "Ответ на вопрос 'Файл' — список URL. В шаблоне он корректно преобразуется в строку. Проверка на пустоту работает корректно. Ответ передаётся во внешнюю систему.",
    "attributes_covered": [
      "EVT-007",
      "EVT-008",
      "EVT-009",
      "EVT-010"
    ]
  }
]