[
  {
    "id": "SCN-001",
    "title": "Вызов блока по кнопке-действию и одноразовое нажатие",
    "steps": [
      "Создать рассылку в состоянии 'Не запущена'.",
      "Создать блок A с сообщением, содержащим кнопку-действие 'Перейти к блоку B', связанную с блоком B.",
      "Создать блок B с сообщением.",
      "Запустить рассылку (активный режим) и имитировать клиента.",
      "Клиент получает сообщение из блока A и нажимает кнопку-действие 'Перейти к блоку B'.",
      "Проверить состояние кнопки-действия в блоке A после нажатия.",
      "Проверить, получил ли клиент сообщение из блока B."
    ],
    "expected_result": "Сразу после нажатия кнопки-действия в блоке A клиент получает сообщение из блока B. Кнопка-действие в блоке A становится неактивной после первого нажатия.",
    "attributes_covered": [
      "EVT-001",
      "EVT-002"
    ]
  },
  {
    "id": "SCN-002",
    "title": "Ограничение одного нажатия для сообщения с несколькими кнопками-действиями",
    "steps": [
      "Создать рассылку в состоянии 'Не запущена'.",
      "Создать блок с сообщением.",
      "Добавить к сообщению три кнопки-действия, каждая связана с разными блоками.",
      "Проверить, появилась ли опция 'Разрешить только одно нажатие' в интерфейсе редактирования сообщения.",
      "Включить опцию 'Разрешить только одно нажатие'.",
      "Запустить рассылку и имитировать клиента.",
      "Клиент получает сообщение и нажимает на одну из кнопок-действий.",
      "Попытаться нажать на другую кнопку-действие в том же сообщении."
    ],
    "expected_result": "При добавлении третьей кнопки-действия появляется опция 'Разрешить только одно нажатие'. После её включения и нажатия клиентом одной кнопки, другие кнопки-действия в этом сообщении становятся неактивными.",
    "attributes_covered": [
      "EVT-003"
    ]
  },
  {
    "id": "SCN-003",
    "title": "Кнопки-ссылки не вызывают блоки и без ограничений нажатий",
    "steps": [
      "Создать рассылку в состоянии 'Не запущена'.",
      "Создать блок с сообщением, содержащим кнопку-ссылку на внешний URL.",
      "Запустить рассылку и имитировать клиента.",
      "Клиент получает сообщение и нажимает кнопку-ссылку.",
      "Проверить, открывается ли внешний URL и не вызывается ли другой блок.",
      "Повторно нажать на ту же кнопку-ссылку."
    ],
    "expected_result": "Кнопка-ссылка открывает внешний URL, не вызывает выполнение других блоков и остаётся активной для многократных нажатий.",
    "attributes_covered": [
      "EVT-004"
    ]
  },
  {
    "id": "SCN-004",
    "title": "Изменение связей блоков в активном режиме и влияние на отправленные рассылки при отключении",
    "steps": [
      "Создать рассылку по событию и запустить её в активный режим.",
      "Изменить сценарий в активном режиме: в блоке A переназначить кнопку-действие с блока B на блок C.",
      "Сохранить изменения.",
      "Имитировать нового клиента, который попадает под событие после изменения.",
      "Проверить, проходит ли новый клиент по обновлённой связи (из A в C).",
      "Отключить рассылку.",
      "После отключения изменить связь в блоке A обратно с C на B.",
      "Проверить, видят ли клиенты, получившие рассылку до отключения, старый сценарий (A -> C), а не новый (A -> B)."
    ],
    "expected_result": "В активном режиме изменение связи между блоками сохраняется и применяется для новых клиентов. После отключения рассылки изменения связей не влияют на уже отправленные экземпляры.",
    "attributes_covered": [
      "EVT-005",
      "EVT-006",
      "EVT-007"
    ]
  },
  {
    "id": "SCN-005",
    "title": "Запуск связей для разных типов рассылок и упорядочивание сообщений в блоке",
    "steps": [
      "Создать рассылку с фиксированной аудиторией и запустить её.",
      "После запуска (пассивный режим) попытаться изменить сценарий, добавив новую связь между блоками.",
      "Проверить, активируется ли новая связь для клиентов из фиксированной аудитории.",
      "Создать рассылку по тегу и запустить её в активный режим.",
      "В блоке изменить порядок сообщений с помощью 'Переместить наверх'/'Переместить вниз'.",
      "Перезапустить рассылку по тегу в активный режим.",
      "Имитировать нового клиента с подходящим тегом.",
      "Проверить последовательность получения сообщений в блоке."
    ],
    "expected_result": "Рассылка с фиксированной аудиторией после запуска не активирует новые связи. Рассылка по тегу позволяет перезапуск и активацию обновлённых связей, а изменение порядка сообщений в блоке влияет на последовательность отправки клиенту.",
    "attributes_covered": [
      "EVT-007",
      "EVT-008"
    ]
  }
]